(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{733:(e,a,s)=>{Promise.resolve().then(s.bind(s,92669)),Promise.resolve().then(s.bind(s,11073))},11073:(e,a,s)=>{"use strict";s.d(a,{MetropoleForm:()=>g});var r=s(95155),i=s(12115),l=s(35695),d=s(97168),o=s(88482),n=s(89852),t=s(82714),c=s(95784),u=s(51154),m=s(14503),f=s(27997),h=s(54059),p=s(9428),x=s(53999);let v=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,r.jsx)(h.bL,{className:(0,x.cn)("grid gap-2",s),...i,ref:a})});v.displayName=h.bL.displayName;let j=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,r.jsx)(h.q7,{ref:a,className:(0,x.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...i,children:(0,r.jsx)(h.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(p.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});j.displayName=h.q7.displayName;var b=s(64587);function g(){let e=(0,l.useRouter)(),[a,s]=(0,i.useState)(!1),{products:h}=(0,f.N)(),[p,x]=(0,i.useState)("premium"),[g,y]=(0,i.useState)(!1),[N,w]=(0,i.useState)({name:"",email:"",cellPhone:"",product:"",interessePrincipal:"morar",field01:"",field02:"",field03:"",field04:"",field05:"",field06:"",field07:"",field08:"",field09:"",tenantId:9}),C=e=>{let{name:a,value:s}=e.target;w({...N,[a]:s})},S=(e,a)=>{w({...N,[e]:a})},q=(e,a)=>{w({...N,[e]:a})},P=e=>{x(e),"premium"===e?w({...N,interessePrincipal:"morar",field01:"",field02:"",field03:"",field04:"Voc\xea pretende:",field05:"J\xe1 possui o valor de entrada ou pretende financiar?",field06:"Est\xe1 buscando im\xf3vel h\xe1 quanto tempo?",field07:"morar",field08:"",field09:""}):"quiz"===e&&w({...N,interessePrincipal:"",field01:"",field02:"",field03:"",field04:"",field05:"",field06:"",field07:"",field08:"",field09:""})},J=async a=>{a.preventDefault(),s(!0);try{if(await (0,b.Bp)("9","casaprimavera")){y(!1);let e={...N,tenantId:{id:N.tenantId}};if(!(await fetch("https://backend-ingressar.onrender.com/metropole/v1/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Falha ao enviar dados");(0,m.oR)({title:"Sucesso!",description:"Lead cadastrado com sucesso."})}else console.log("\uD83C\uDFAD API n\xe3o dispon\xedvel, criando lead nos dados mockados"),b.I_.enableMock(),y(!0),await b.I_.createLead({...N,field03:"NOVO",tenantId:{id:N.tenantId}}),(0,m.oR)({title:"Sucesso! (Demo)",description:"Lead cadastrado com sucesso nos dados de demonstra\xe7\xe3o."});e.push("/dashboard"),e.refresh()}catch(a){console.error("Erro ao enviar dados:",a);try{console.log("\uD83C\uDFAD Erro na API, criando lead nos dados mockados como fallback"),b.I_.enableMock(),y(!0),await b.I_.createLead({...N,field03:"NOVO",tenantId:{id:N.tenantId}}),(0,m.oR)({title:"Sucesso! (Demo)",description:"Lead cadastrado nos dados de demonstra\xe7\xe3o devido a erro na API."}),e.push("/dashboard"),e.refresh()}catch(e){console.error("Erro mesmo com dados mockados:",e),(0,m.oR)({title:"Erro",description:"Ocorreu um erro ao cadastrar o lead.",variant:"destructive"})}}finally{s(!1)}};return(0,r.jsx)("form",{onSubmit:J,children:(0,r.jsxs)(o.Zp,{children:[(0,r.jsxs)(o.aR,{children:[(0,r.jsx)(o.ZB,{children:"Cadastrar Novo Lead"}),(0,r.jsx)(o.BT,{children:"Preencha os dados do novo lead para o CRM."}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)(t.J,{children:"Tipo de Formul\xe1rio"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,r.jsx)(d.$,{type:"button",variant:"premium"===p?"default":"outline",onClick:()=>P("premium"),children:"Premium (Lan\xe7amento)"}),(0,r.jsx)(d.$,{type:"button",variant:"quiz"===p?"default":"outline",onClick:()=>P("quiz"),children:"Quiz"})]})]})]}),(0,r.jsxs)(o.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(t.J,{htmlFor:"name",children:"Nome Completo*"}),(0,r.jsx)(n.p,{id:"name",name:"name",value:N.name,onChange:C,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(t.J,{htmlFor:"email",children:["Email","quiz"===p?"":"*"]}),(0,r.jsx)(n.p,{id:"email",name:"email",type:"email",value:N.email,onChange:C,required:"quiz"!==p})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(t.J,{htmlFor:"cellPhone",children:"Telefone/WhatsApp*"}),(0,r.jsx)(n.p,{id:"cellPhone",name:"cellPhone",value:N.cellPhone,onChange:C,required:!0,placeholder:"(00) 00000-0000"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(t.J,{htmlFor:"product",children:"Produto de Interesse*"}),(0,r.jsxs)(c.l6,{value:N.product,onValueChange:e=>S("product",e),children:[(0,r.jsx)(c.bq,{id:"product",children:(0,r.jsx)(c.yv,{placeholder:"Selecione um produto"})}),(0,r.jsx)(c.gC,{children:h.map(e=>(0,r.jsx)(c.eb,{value:e.id,children:e.id},e.id))})]})]})]}),"premium"===p&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(t.J,{children:"Voc\xea pretende:"}),(0,r.jsxs)(v,{value:N.interessePrincipal,onValueChange:e=>q("interessePrincipal",e),className:"flex space-x-4 mt-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j,{value:"morar",id:"morar"}),(0,r.jsx)(t.J,{htmlFor:"morar",children:"Morar"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j,{value:"investir",id:"investir"}),(0,r.jsx)(t.J,{htmlFor:"investir",children:"Investir"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(t.J,{htmlFor:"field01",children:"J\xe1 possui o valor de entrada ou pretende financiar?"}),(0,r.jsxs)(c.l6,{value:N.field01,onValueChange:e=>S("field01",e),children:[(0,r.jsx)(c.bq,{id:"field01",children:(0,r.jsx)(c.yv,{placeholder:"Selecione uma op\xe7\xe3o"})}),(0,r.jsxs)(c.gC,{children:[(0,r.jsx)(c.eb,{value:"Tenho parte do valor",children:"Tenho parte do valor"}),(0,r.jsx)(c.eb,{value:"Vou financiar com FGTS",children:"Vou financiar com FGTS"}),(0,r.jsx)(c.eb,{value:"Sim, tenho o valor total",children:"Sim, tenho o valor total"}),(0,r.jsx)(c.eb,{value:"Sim, tenho o valor de entrada",children:"Sim, tenho o valor de entrada"}),(0,r.jsx)(c.eb,{value:"N\xe3o, preciso de financiamento",children:"N\xe3o, preciso de financiamento"}),(0,r.jsx)(c.eb,{value:"Estou pesquisando",children:"Estou pesquisando"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(t.J,{htmlFor:"field02",children:"Est\xe1 buscando im\xf3vel h\xe1 quanto tempo?"}),(0,r.jsxs)(c.l6,{value:N.field02,onValueChange:e=>S("field02",e),children:[(0,r.jsx)(c.bq,{id:"field02",children:(0,r.jsx)(c.yv,{placeholder:"Selecione uma op\xe7\xe3o"})}),(0,r.jsxs)(c.gC,{children:[(0,r.jsx)(c.eb,{value:"Comecei agora, mas quero decidir r\xe1pido",children:"Comecei agora, mas quero decidir r\xe1pido"}),(0,r.jsx)(c.eb,{value:"J\xe1 venho buscando e ainda n\xe3o encontrei o ideal",children:"J\xe1 venho buscando e ainda n\xe3o encontrei o ideal"}),(0,r.jsx)(c.eb,{value:"Menos de 1 m\xeas",children:"Menos de 1 m\xeas"}),(0,r.jsx)(c.eb,{value:"1-3 meses",children:"1-3 meses"}),(0,r.jsx)(c.eb,{value:"3-6 meses",children:"3-6 meses"}),(0,r.jsx)(c.eb,{value:"Mais de 6 meses",children:"Mais de 6 meses"}),(0,r.jsx)(c.eb,{value:"Apenas pesquisando",children:"Apenas pesquisando"})]})]})]})]}),"quiz"===p&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(t.J,{htmlFor:"field01",children:"J\xe1 pensou em morar ou investir perto do Galleria Shopping?"}),(0,r.jsxs)(c.l6,{value:N.field01,onValueChange:e=>S("field01",e),children:[(0,r.jsx)(c.bq,{id:"field01",children:(0,r.jsx)(c.yv,{placeholder:"Selecione uma op\xe7\xe3o"})}),(0,r.jsxs)(c.gC,{children:[(0,r.jsx)(c.eb,{value:"yes",children:"Sim, mas achei que fosse caro demais."}),(0,r.jsx)(c.eb,{value:"no",children:"N\xe3o, ainda n\xe3o considerei."})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(t.J,{htmlFor:"field02",children:"Sabia que o metro quadrado na regi\xe3o j\xe1 chegou a R$ 16 mil, mas o City Galleria est\xe1 entrando com cerca de R$ 8 mil?"}),(0,r.jsxs)(c.l6,{value:N.field02,onValueChange:e=>S("field02",e),children:[(0,r.jsx)(c.bq,{id:"field02",children:(0,r.jsx)(c.yv,{placeholder:"Selecione uma op\xe7\xe3o"})}),(0,r.jsxs)(c.gC,{children:[(0,r.jsx)(c.eb,{value:"no",children:"N\xe3o sabia. Isso me interessou."}),(0,r.jsx)(c.eb,{value:"yes",children:"J\xe1 sabia, e por isso quero ver mais."})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(t.J,{htmlFor:"field06",children:"Voc\xea busca:"}),(0,r.jsxs)(c.l6,{value:N.field06,onValueChange:e=>S("field06",e),children:[(0,r.jsx)(c.bq,{id:"field06",children:(0,r.jsx)(c.yv,{placeholder:"Selecione uma op\xe7\xe3o"})}),(0,r.jsxs)(c.gC,{children:[(0,r.jsx)(c.eb,{value:"live",children:"Um im\xf3vel pra morar com localiza\xe7\xe3o e padr\xe3o."}),(0,r.jsx)(c.eb,{value:"invest",children:"Um investimento com alto potencial de valoriza\xe7\xe3o."})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(t.J,{htmlFor:"field04",children:"Usaria FGTS ou financiamento?"}),(0,r.jsxs)(c.l6,{value:N.field04,onValueChange:e=>S("field04",e),children:[(0,r.jsx)(c.bq,{id:"field04",children:(0,r.jsx)(c.yv,{placeholder:"Selecione uma op\xe7\xe3o"})}),(0,r.jsxs)(c.gC,{children:[(0,r.jsx)(c.eb,{value:"yes",children:"Sim, pretendo usar FGTS ou Financiamento."}),(0,r.jsx)(c.eb,{value:"no",children:"N\xe3o preciso."})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(t.J,{htmlFor:"field05",children:"Est\xe1 disposto(a) a conversar com um consultor?"}),(0,r.jsxs)(c.l6,{value:N.field05,onValueChange:e=>S("field05",e),children:[(0,r.jsx)(c.bq,{id:"field05",children:(0,r.jsx)(c.yv,{placeholder:"Selecione uma op\xe7\xe3o"})}),(0,r.jsxs)(c.gC,{children:[(0,r.jsx)(c.eb,{value:"yes",children:"Sim, quero mais detalhes direto com algu\xe9m."}),(0,r.jsx)(c.eb,{value:"no",children:"N\xe3o, s\xf3 estou olhando por curiosidade."})]})]})]})]})]}),(0,r.jsxs)(o.wL,{className:"flex justify-between",children:[(0,r.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>e.push("/dashboard"),children:"Cancelar"}),(0,r.jsxs)(d.$,{type:"submit",disabled:a,children:[a&&(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Cadastrar Lead"]})]})]})})}},27997:(e,a,s)=>{"use strict";s.d(a,{N:()=>n,ProductConfigProvider:()=>o});var r=s(95155),i=s(12115);let l=[{id:"casaprimavera",name:"Casa Primavera",active:!0}],d=(0,i.createContext)(void 0);function o(e){let{children:a}=e,[s,o]=(0,i.useState)(l),[n,t]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("crm-products");e&&o(JSON.parse(e))}catch(e){console.error("Erro ao carregar produtos:",e),o(l)}finally{t(!1)}})()},[]),(0,i.useEffect)(()=>{n||localStorage.setItem("crm-products",JSON.stringify(s))},[s,n]),(0,r.jsx)(d.Provider,{value:{products:s,addProduct:e=>{o(a=>[...a,e])},updateProduct:(e,a)=>{o(s=>s.map(s=>s.id===e?{...s,...a}:s))},removeProduct:e=>{o(a=>a.filter(a=>a.id!==e))},isLoading:n},children:a})}function n(){let e=(0,i.useContext)(d);if(void 0===e)throw Error("useProductConfig must be used within a ProductConfigProvider");return e}},82714:(e,a,s)=>{"use strict";s.d(a,{J:()=>t});var r=s(95155),i=s(12115),l=s(40968),d=s(74466),o=s(53999);let n=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),t=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,r.jsx)(l.b,{ref:a,className:(0,o.cn)(n(),s),...i})});t.displayName=l.b.displayName},89852:(e,a,s)=>{"use strict";s.d(a,{p:()=>d});var r=s(95155),i=s(12115),l=s(53999);let d=i.forwardRef((e,a)=>{let{className:s,type:i,...d}=e;return(0,r.jsx)("input",{type:i,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...d})});d.displayName="Input"},95784:(e,a,s)=>{"use strict";s.d(a,{bq:()=>m,eb:()=>x,gC:()=>p,l6:()=>c,yv:()=>u});var r=s(95155),i=s(12115),l=s(14582),d=s(66474),o=s(47863),n=s(5196),t=s(53999);let c=l.bL;l.YJ;let u=l.WT,m=i.forwardRef((e,a)=>{let{className:s,children:i,...o}=e;return(0,r.jsxs)(l.l9,{ref:a,className:(0,t.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...o,children:[i,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=l.l9.displayName;let f=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,r.jsx)(l.PP,{ref:a,className:(0,t.cn)("flex cursor-default items-center justify-center py-1",s),...i,children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})});f.displayName=l.PP.displayName;let h=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,r.jsx)(l.wn,{ref:a,className:(0,t.cn)("flex cursor-default items-center justify-center py-1",s),...i,children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})});h.displayName=l.wn.displayName;let p=i.forwardRef((e,a)=>{let{className:s,children:i,position:d="popper",...o}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:a,className:(0,t.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:d,...o,children:[(0,r.jsx)(f,{}),(0,r.jsx)(l.LM,{className:(0,t.cn)("p-1","popper"===d&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,r.jsx)(h,{})]})})});p.displayName=l.UC.displayName,i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,r.jsx)(l.JU,{ref:a,className:(0,t.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...i})}).displayName=l.JU.displayName;let x=i.forwardRef((e,a)=>{let{className:s,children:i,...d}=e;return(0,r.jsxs)(l.q7,{ref:a,className:(0,t.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...d,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:i})]})});x.displayName=l.q7.displayName,i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,r.jsx)(l.wv,{ref:a,className:(0,t.cn)("-mx-1 my-1 h-px bg-muted",s),...i})}).displayName=l.wv.displayName},97168:(e,a,s)=>{"use strict";s.d(a,{$:()=>t});var r=s(95155),i=s(12115),l=s(99708),d=s(74466),o=s(53999);let n=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),t=i.forwardRef((e,a)=>{let{className:s,variant:i,size:d,asChild:t=!1,...c}=e,u=t?l.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(n({variant:i,size:d,className:s})),ref:a,...c})});t.displayName="Button"}},e=>{var a=a=>e(e.s=a);e.O(0,[778,183,913,823,750,441,684,358],()=>a(733)),_N_E=e.O()}]);