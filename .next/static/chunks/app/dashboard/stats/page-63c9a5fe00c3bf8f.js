(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[909],{53999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var a=s(52596),l=s(39688);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.QP)((0,a.$)(t))}},84106:(e,t,s)=>{"use strict";s.d(t,{LeadStats:()=>k});var a=s(95155),l=s(12115),r=s(88482),i=s(60704),d=s(53999);let c=i.bL,n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(i.B8,{ref:t,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...l})});n.displayName=i.B8.displayName;let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(i.l9,{ref:t,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...l})});o.displayName=i.l9.displayName;let f=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(i.UC,{ref:t,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...l})});f.displayName=i.UC.displayName;var x=s(83540),m=s(3401),h=s(94754),p=s(96025),u=s(16238),j=s(94517),g=s(83394),b=s(54811),N=s(93504),v=s(21374),w=s(8782),y=s(34e3),A=s(24026),F=s(51154),C=s(48136);let O=[{value:"NOVO",label:"Novo",color:"#3B82F6"},{value:"CONTATO_FEITO",label:"Contato Feito",color:"#EAB308"},{value:"QUALIFICADO",label:"Qualificado",color:"#22C55E"},{value:"N\xc3O_QUALIFICADO",label:"N\xe3o Qualificado",color:"#EF4444"},{value:"QUALIFICADO_OP",label:"Qualificado OP",color:"#A855F7"},{value:"PROPOSTA",label:"Proposta",color:"#F97316"},{value:"FECHADO",label:"Fechado",color:"#14B8A6"}],E=["#2E0854","#CAFF00","#4B0082","#9FCC00","#1A0330","#E5FF66"];function k(){let[e,t]=(0,l.useState)(!0),[s,i]=(0,l.useState)([]),[d,k]=(0,l.useState)(window.innerWidth);if((0,l.useEffect)(()=>{let e=()=>{k(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("https://backend-ingressar.onrender.com/metropole/v1/data/".concat("4","/").concat("casaprimavera")),t=e.ok?await e.json():[];i(t)}catch(e){console.error("Erro ao buscar dados:",e)}finally{t(!1)}})()},[]),e)return(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"flex justify-center items-center h-40 sm:h-60",children:(0,a.jsx)(F.A,{className:"h-8 w-8 animate-spin text-primary"})})});let S=(()=>{let e={};return s.forEach(t=>{let s=t.interessePrincipal||"N\xe3o especificado";e[s]=(e[s]||0)+1}),Object.entries(e).map(e=>{let[t,s]=e;return{name:t,value:s}})})(),R=(()=>{let e={};return s.forEach(t=>{let s=new Date(t.createdAt).toLocaleDateString("pt-BR");e[s]=(e[s]||0)+1}),Object.entries(e).map(e=>{let[t,s]=e;return{date:t,count:s}}).sort((e,t)=>{let[s,a,l]=e.date.split("/"),[r,i,d]=t.date.split("/");return new Date("".concat(l,"-").concat(a,"-").concat(s)).getTime()-new Date("".concat(d,"-").concat(i,"-").concat(r)).getTime()}).slice(-(d<768?7:15))})(),D=(()=>{let e={};return O.forEach(t=>{e[t.value]=0}),s.forEach(t=>{let s=t.field03||"NOVO";void 0!==e[s]&&e[s]++}),O.map(t=>({name:t.label,value:e[t.value],color:t.color}))})(),B=()=>d<640?200:d<1024?250:300,L=()=>d<640?8:10;return(0,a.jsxs)("div",{className:"space-y-4 sm:space-y-6 w-full overflow-hidden",children:[(0,a.jsx)(r.Zp,{className:"bg-primary border-white/20",children:(0,a.jsx)(r.Wu,{className:"p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(C.A,{className:"h-6 w-6 text-secondary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white",children:"Casa Primavera - Estat\xedsticas"}),(0,a.jsx)("p",{className:"text-white/90 text-sm",children:"An\xe1lise completa dos leads de moda e confec\xe7\xe3o"})]})]})})}),(0,a.jsxs)(c,{defaultValue:"status",children:[(0,a.jsx)("div",{className:"w-full overflow-x-auto scrollbar-thin",children:(0,a.jsxs)(n,{className:"mb-4 bg-primary w-full flex-nowrap",children:[(0,a.jsx)(o,{value:"status",className:"data-[state=active]:bg-secondary data-[state=active]:text-primary text-white",children:"Status"}),(0,a.jsx)(o,{value:"timeline",className:"data-[state=active]:bg-secondary data-[state=active]:text-primary text-white",children:"Linha do Tempo"}),(0,a.jsx)(o,{value:"interests",className:"data-[state=active]:bg-secondary data-[state=active]:text-primary text-white",children:"Interesses"})]})}),(0,a.jsx)(f,{value:"status",children:(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2 grid-cols-2 md:grid-cols-4",children:[(0,a.jsxs)(r.Zp,{className:"border-white/20",children:[(0,a.jsx)(r.aR,{className:"pb-2 bg-primary text-white p-2 sm:p-3",children:(0,a.jsx)(r.ZB,{className:"text-xs sm:text-sm font-medium",children:"Total de Leads"})}),(0,a.jsxs)(r.Wu,{className:"pt-2 p-2 sm:p-3",children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-white",children:s.length}),(0,a.jsx)("p",{className:"text-xs text-white/70 mt-1",children:"Leads de arquitetura"})]})]}),(0,a.jsxs)(r.Zp,{className:"border-white/20",children:[(0,a.jsx)(r.aR,{className:"pb-2 bg-secondary text-primary p-2 sm:p-3",children:(0,a.jsx)(r.ZB,{className:"text-xs sm:text-sm font-medium",children:"Leads Qualificados"})}),(0,a.jsxs)(r.Wu,{className:"pt-2 p-2 sm:p-3",children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-white",children:s.filter(e=>"QUALIFICADO"===e.field03||"QUALIFICADO_OP"===e.field03).length}),(0,a.jsxs)("p",{className:"text-xs text-white/70 mt-1",children:[s.length>0?Math.round(s.filter(e=>"QUALIFICADO"===e.field03||"QUALIFICADO_OP"===e.field03).length/s.length*100):0,"% do total"]})]})]}),(0,a.jsxs)(r.Zp,{className:"border-white/20",children:[(0,a.jsx)(r.aR,{className:"pb-2 bg-primary text-white p-2 sm:p-3",children:(0,a.jsx)(r.ZB,{className:"text-xs sm:text-sm font-medium",children:"Em Proposta"})}),(0,a.jsxs)(r.Wu,{className:"pt-2 p-2 sm:p-3",children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-white",children:s.filter(e=>"PROPOSTA"===e.field03).length}),(0,a.jsxs)("p",{className:"text-xs text-white/70 mt-1",children:[s.length>0?Math.round(s.filter(e=>"PROPOSTA"===e.field03).length/s.length*100):0,"% do total"]})]})]}),(0,a.jsxs)(r.Zp,{className:"border-white/20",children:[(0,a.jsx)(r.aR,{className:"pb-2 bg-secondary text-primary p-2 sm:p-3",children:(0,a.jsx)(r.ZB,{className:"text-xs sm:text-sm font-medium",children:"Fechados"})}),(0,a.jsxs)(r.Wu,{className:"pt-2 p-2 sm:p-3",children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-white",children:s.filter(e=>"FECHADO"===e.field03).length}),(0,a.jsxs)("p",{className:"text-xs text-white/70 mt-1",children:["Taxa de convers\xe3o:"," ",s.length>0?Math.round(s.filter(e=>"FECHADO"===e.field03).length/s.length*100):0,"%"]})]})]})]}),(0,a.jsxs)(r.Zp,{className:"border-white/20",children:[(0,a.jsxs)(r.aR,{className:"bg-primary text-white p-2 sm:p-3",children:[(0,a.jsx)(r.ZB,{className:"text-base sm:text-lg",children:"Distribui\xe7\xe3o por Status - Casa Primavera"}),(0,a.jsx)(r.BT,{className:"text-white/80 text-xs sm:text-sm",children:"Visualiza\xe7\xe3o do funil de vendas de moda e confec\xe7\xe3o"})]}),(0,a.jsx)(r.Wu,{className:"pt-4 p-2 sm:p-4",children:(0,a.jsx)("div",{style:{height:B(),width:"100%"},children:(0,a.jsx)(x.u,{width:"100%",height:"100%",children:(0,a.jsxs)(m.E,{data:D,margin:{top:10,right:10,left:0,bottom:d<640?60:40},children:[(0,a.jsx)(h.d,{strokeDasharray:"3 3",stroke:"#ffffff20"}),(0,a.jsx)(p.W,{dataKey:"name",angle:d<640?-90:-45,textAnchor:"end",height:d<640?60:40,tick:{fontSize:L(),fill:"#ffffff80"},interval:0}),(0,a.jsx)(u.h,{tick:{fontSize:L(),fill:"#ffffff80"}}),(0,a.jsx)(j.m,{contentStyle:{backgroundColor:"#2E0854",border:"1px solid #ffffff20",borderRadius:"8px",fontSize:d<640?"12px":"14px"},labelStyle:{color:"#ffffff"}}),(0,a.jsx)(g.y,{dataKey:"value",radius:[4,4,0,0],children:D.map((e,t)=>(0,a.jsx)(b.f,{fill:e.color},"cell-".concat(t)))})]})})})})]})]})}),(0,a.jsx)(f,{value:"timeline",children:(0,a.jsxs)(r.Zp,{className:"border-white/20",children:[(0,a.jsxs)(r.aR,{className:"bg-primary text-white p-3 sm:p-4",children:[(0,a.jsx)(r.ZB,{className:"text-base sm:text-lg",children:"Leads por Data"}),(0,a.jsx)(r.BT,{className:"text-white/80 text-xs sm:text-sm",children:"Evolu\xe7\xe3o temporal dos leads de arquitetura"})]}),(0,a.jsx)(r.Wu,{className:"p-3 sm:p-4",children:(0,a.jsx)("div",{style:{height:B(),width:"100%"},children:(0,a.jsx)(x.u,{width:"100%",height:"100%",children:(0,a.jsxs)(N.b,{data:R,margin:{top:10,right:10,left:0,bottom:d<640?40:20},children:[(0,a.jsx)(h.d,{strokeDasharray:"3 3",stroke:"#ffffff20"}),(0,a.jsx)(p.W,{dataKey:"date",angle:d<640?-45:0,textAnchor:d<640?"end":"middle",height:d<640?40:30,tick:{fontSize:L(),fill:"#ffffff80"},interval:d<640?"preserveStartEnd":0}),(0,a.jsx)(u.h,{tick:{fontSize:L(),fill:"#ffffff80"}}),(0,a.jsx)(j.m,{contentStyle:{backgroundColor:"#2E0854",border:"1px solid #ffffff20",borderRadius:"8px",fontSize:d<640?"12px":"14px"},labelStyle:{color:"#ffffff"}}),(0,a.jsx)(v.N,{type:"monotone",dataKey:"count",stroke:"#CAFF00",strokeWidth:2,dot:{fill:"#CAFF00",strokeWidth:2,r:d<640?3:4},activeDot:{r:d<640?5:6,fill:"#CAFF00"}})]})})})})]})}),(0,a.jsx)(f,{value:"interests",children:(0,a.jsxs)(r.Zp,{className:"border-white/20",children:[(0,a.jsxs)(r.aR,{className:"bg-primary text-white p-3 sm:p-4",children:[(0,a.jsx)(r.ZB,{className:"text-base sm:text-lg",children:"Distribui\xe7\xe3o por Interesse"}),(0,a.jsx)(r.BT,{className:"text-white/80 text-xs sm:text-sm",children:"Tipos de projetos mais procurados"})]}),(0,a.jsx)(r.Wu,{className:"p-3 sm:p-4",children:(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:[(0,a.jsx)("div",{style:{height:B(),width:"100%"},children:(0,a.jsx)(x.u,{width:"100%",height:"100%",children:(0,a.jsxs)(w.r,{children:[(0,a.jsx)(y.F,{data:S,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:s}=e;return d>=640?"".concat(t,": ").concat((100*s).toFixed(0),"%"):"".concat((100*s).toFixed(0),"%")},outerRadius:d<640?60:80,fill:"#8884d8",dataKey:"value",children:S.map((e,t)=>(0,a.jsx)(b.f,{fill:E[t%E.length]},"cell-".concat(t)))}),(0,a.jsx)(j.m,{contentStyle:{backgroundColor:"#2E0854",border:"1px solid #ffffff20",borderRadius:"8px",fontSize:d<640?"12px":"14px"}}),d>=768&&(0,a.jsx)(A.s,{})]})})}),(0,a.jsx)("div",{style:{height:B(),width:"100%"},children:(0,a.jsx)(x.u,{width:"100%",height:"100%",children:(0,a.jsxs)(m.E,{data:S,margin:{top:10,right:10,left:0,bottom:d<640?40:20},children:[(0,a.jsx)(h.d,{strokeDasharray:"3 3",stroke:"#ffffff20"}),(0,a.jsx)(p.W,{dataKey:"name",angle:d<640?-45:0,textAnchor:d<640?"end":"middle",height:d<640?40:30,tick:{fontSize:L(),fill:"#ffffff80"}}),(0,a.jsx)(u.h,{tick:{fontSize:L(),fill:"#ffffff80"}}),(0,a.jsx)(j.m,{contentStyle:{backgroundColor:"#2E0854",border:"1px solid #ffffff20",borderRadius:"8px",fontSize:d<640?"12px":"14px"}}),(0,a.jsx)(g.y,{dataKey:"value",radius:[4,4,0,0],children:S.map((e,t)=>(0,a.jsx)(b.f,{fill:E[t%E.length]},"cell-".concat(t)))})]})})})]})})]})})]})]})}},85088:(e,t,s)=>{Promise.resolve().then(s.bind(s,84106))},88482:(e,t,s)=>{"use strict";s.d(t,{BT:()=>n,Wu:()=>o,ZB:()=>c,Zp:()=>i,aR:()=>d,wL:()=>f});var a=s(95155),l=s(12115),r=s(53999);let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});i.displayName="Card";let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...l})});d.displayName="CardHeader";let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})});c.displayName="CardTitle";let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...l})});n.displayName="CardDescription";let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...l})});o.displayName="CardContent";let f=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...l})});f.displayName="CardFooter"}},e=>{var t=t=>e(e.s=t);e.O(0,[598,862,441,684,358],()=>t(85088)),_N_E=e.O()}]);